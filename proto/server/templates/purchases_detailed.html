<div class="container">
    <div class="row">
        <div class="col-sm-12 col-md-10 col-md-offset-1">
            <div class="btn-group dropdown">
                <button class="btn btn-timeFilter dropdown-toggle" type="button" data-toggle="dropdown">
                    2017
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu">
                    <li>
                        <a href="#">2017</a>
                    </li>
                    <li>
                        <a href="#">2016</a>
                    </li>
                    <li>
                        <a href="#">2015</a>
                    </li>
                </ul>
            </div>
            <div class="btn-group" data-toggle="buttons">
                <label class="btn btn-timeFilter active">
                    <input type="radio" name="options" autocomplete="off" checked>None
                    
                
                </label>
                <label class="btn btn-timeFilter">
                    <input type="radio" name="options" autocomplete="off" checked>Jan
                    
                
                </label>
                <label class="btn btn-timeFilter">
                    <input type="radio" name="options" autocomplete="off">Fev
                    
                
                </label>
                <label class="btn btn-timeFilter">
                    <input type="radio" name="options" autocomplete="off">Mar
                    
                
                </label>
                <label class="btn btn-timeFilter">
                    <input type="radio" name="options" autocomplete="off" checked>Apr
                    
                
                </label>
                <label class="btn btn-timeFilter">
                    <input type="radio" name="options" autocomplete="off">Jun
                    
                
                </label>
                <label class="btn btn-timeFilter">
                    <input type="radio" name="options" autocomplete="off">Jul
                    
                
                </label>
                <label class="btn btn-timeFilter">
                    <input type="radio" name="options" autocomplete="off" checked>Aug
                    
                
                </label>
                <label class="btn btn-timeFilter">
                    <input type="radio" name="options" autocomplete="off">Set
                    
                
                </label>
                <label class="btn btn-timeFilter">
                    <input type="radio" name="options" autocomplete="off">Oct
                    
                
                </label>
                <label class="btn btn-timeFilter">
                    <input type="radio" name="options" autocomplete="off" checked>Nov
                    
                
                </label>
                <label class="btn btn-timeFilter">
                    <input type="radio" name="options" autocomplete="off">Dec
                    
                
                </label>
            </div>
        </div>
    </div>
    <hr/>
    <div class="row" ng-app="purchases_detailed_app" ng-controller="purchases_detailed_controller">
        <div class="col-sm-12 tabled">
            <div class="row-fluid head h-100">
                <div class="col-xs-8">Entity</div>
                <div class="col-xs-2">Date</div>
                <div class="col-xs-2">Total Value</div>
            </div>
            <!--div class="row-fluid mainrow" data-toggle="collapse" data-target="#collapse1">
                <div class="col-xs-1">1</div>
                <div class="col-xs-6">Tamere</div>
                <div class="col-xs-3">Hoje</div>
                <div class="col-xs-2">2800€</div>
            </div>
            <div id="collapse1" class="row-fluid collapse">
                <div class="article subrow">
                    <div class="col-xs-1">A0001</div>
                    <div class="col-xs-6">PC</div>
                    <div class="col-xs-3">10</div>
                    <div class="col-xs-2">500€</div>
                </div>
                <div class="article subrow">
                    <div class="col-xs-1">A0001</div>
                    <div class="col-xs-6">PC</div>
                    <div class="col-xs-3">10</div>
                    <div class="col-xs-2">500€</div>
                </div>
            </div-->

            <div class="ng-cloak" ng-repeat="purchase in purchases">
                <div class="row-fluid mainrow" data-toggle="collapse" ng-attr-data-target="#collapse[[$index]]">
                    <div class="col-xs-8">[[purchase.EntityName]]</div>
                    <div class="col-xs-2">[[dateFormat(purchase.DocumentDate)]]</div>
                    <div class="col-xs-2">[[purchase.TotalValue]] €</div>
                </div>
                <div ng-attr-id="collapse[[$index]]" class="col-xs-12 row-fluid collapse">
                    <div class="article subrow">
                        <div class="col-xs-8">Product</div>
                        <div class="col-xs-2">Quantity</div>
                        <div class="col-xs-2">Unit Price</div>
                    </div>
                    <div class="article subrow" ng-repeat="article in purchase.Items">
                        <div class="col-xs-8">[[article.Description]]</div>
                        <div class="col-xs-2">[[article.Quantity * -1]]</div>
                        <div class="col-xs-2">[[article.UnitPrice]] €</div>
                    </div>
                </div>
            </div>
           
            

            <!--
                {foreach $purchases as $i => $purchase}
                    <div class="row-fluid mainrow" data-toggle="collapse" data-target="#collapse{$i}">
                        <div class="col-xs-1">{$purchase.docNumber}</div>
                        <div class="col-xs-6">{$purchase.entity}</div>
                        <div class="col-xs-3">{$purchase.date}</div>
                        <div class="col-xs-2">{$purchase.total}</div>
                    </div>
                    <div id="collapse1" class="row-fluid collapse">
                        {foreach $purchase.articles as $j => $article}
                            <div class="article subrow">
                                <div class="col-xs-1">{$article.id}</div>
                                <div class="col-xs-6">{$article.name}</div>
                                <div class="col-xs-3">{$article.qty}</div>
                                <div class="col-xs-2">{$article.value}</div>
                            </div>
                        {/foreach}
                    </div>
                {/foreach}
                    
            -->
        </div>
    </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
<script src="../javascript/purchases_detailed.js"></script>
